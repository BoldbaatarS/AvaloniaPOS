<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="RestaurantPOS.Views.AdminHallsView"
             xmlns:vm="clr-namespace:RestaurantPOS.ViewModels"
             x:DataType="vm:AdminHallsViewModel">
    <DockPanel Margin="10">
        
        <!-- Дээд хэсэг: Форм -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Spacing="10" VerticalAlignment="Top">
            <StackPanel Width="250" Spacing="5">
                <TextBlock Text="Заалны нэр:"/>
                <TextBox Watermark="Заалны нэр" Text="{Binding HallName, Mode=TwoWay}" />
                
                <TextBlock Text="Заалны зураг:" Margin="0,5,0,0"/>
                <Border BorderThickness="1" BorderBrush="Gray" Width="200" Height="120" Margin="0,5,0,0">
                    <Image Source="{Binding SafePreviewImage}" Stretch="UniformToFill"/>
                </Border>
                <Button Content="Зураг сонгох" Command="{Binding BrowseImageCommand}" />
            </StackPanel>

            <StackPanel VerticalAlignment="Bottom" Spacing="5">
                <Button Content="{Binding SelectedHall, Converter={StaticResource NullToAddEditConverter}}" 
                        Command="{Binding AddOrUpdateHallCommand}" Width="120"/>
                <Button Content="Устгах" Command="{Binding DeleteHallCommand}" 
                        IsEnabled="{Binding SelectedHall}" Width="120" Background="Tomato"/>
            </StackPanel>
        </StackPanel>

        <!-- Доод хэсэг: Жагсаалт -->
        <DataGrid ItemsSource="{Binding Halls}" 
                  SelectedItem="{Binding SelectedHall, Mode=TwoWay}" 
                  AutoGenerateColumns="False"
                  Margin="0,10,0,0"
                  Height="300">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Нэр" Binding="{Binding Name}" Width="2*"/>
                <DataGridTemplateColumn Header="Зураг" Width="150">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Image Source="{Binding SafeHallImagePath}" Width="120" Height="80" Stretch="UniformToFill"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</UserControl>
